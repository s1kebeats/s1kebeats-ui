{"version":3,"file":"SBTextInput-fee5a60a.js","sources":["../../src/components/SBTextInput/SBTextInput.vue"],"sourcesContent":["<template>\n  <div\n    class=\"flex flex-col\"\n    :class=\"[inputContainerClasses]\"\n    data-testid=\"textInputContainer\"\n  >\n    <div\n      class=\"flex items-center transition-all\"\n      data-testid=\"presentationalInput\"\n      :class=\"[\n        inputPresentationalSizingClasses,\n        inputPresentationalStateClasses,\n        {\n          'opacity-50': disabled,\n          'bg-grayscale-bg outline-grayscale-header outline outline-[2px]':\n            focused,\n          'bg-grayscale-input': !focused,\n          'cursor-not-allowed': disabled\n        }\n      ]\"\n      @focusin=\"focused = true\"\n      @focusout=\"focused = false\"\n    >\n      <button\n        data-testid=\"optionalIconButton\"\n        :disabled=\"disabled\"\n        v-if=\"icon\"\n        @click.prevent=\"callback ? callback() : null\"\n        :class=\"{\n          'cursor-default': !callback,\n          'cursor-not-allowed': disabled\n        }\"\n      >\n        <Icon\n          data-testid=\"optionalIcon\"\n          :icon=\"icon\"\n          class=\"transition-all\"\n          :class=\"[\n            inputIconClasses,\n            coloredIconClasses,\n            {\n              '!text-black': focused,\n              'hover:text-black': callback\n            }\n          ]\"\n        />\n      </button>\n      <div\n        class=\"flex grow flex-col items-start justify-center overflow-hidden\"\n      >\n        <span\n          data-testid=\"upperLabel\"\n          v-show=\"value\"\n          class=\"w-full text-sm truncate\"\n          :class=\"inputLabelClasses\"\n          >{{ label }}</span\n        >\n        <input\n          :autocomplete=\"autocomplete\"\n          data-testid=\"textInput\"\n          @keypress.enter=\"callback ? callback() : null\"\n          :type=\"type\"\n          :name=\"name\"\n          ref=\"textInput\"\n          :placeholder=\"label\"\n          class=\"bg-transparent w-full truncate focus:outline-none text-grayscale-header placeholder:text-grayscale-label placeholder:truncate\"\n          v-model.trim=\"value\"\n          :disabled=\"disabled\"\n          :class=\"{\n            'cursor-not-allowed': disabled\n          }\"\n        />\n      </div>\n\n      <button\n        :class=\"{\n          'min-w-[19px]': size === 'sm',\n          'min-w-[22px]': size === 'md' || size === 'lg',\n          'min-w-[24px]': size === 'xl'\n        }\"\n        data-testid=\"clearValueButton\"\n        @click.prevent=\"focused ? clearInputValue() : null\"\n        :disabled=\"disabled\"\n      >\n        <transition name=\"fade\">\n          <Icon\n            data-testid=\"clearValueButtonIcon\"\n            v-show=\"focused\"\n            icon=\"material-symbols:close-rounded\"\n            :class=\"inputIconClasses\"\n          />\n        </transition>\n      </button>\n    </div>\n    <span\n      data-testid=\"messageHint\"\n      class=\"cursor-default\"\n      v-if=\"message\"\n      :class=\"messageClasses\"\n      >{{ message }}</span\n    >\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { Icon } from '@iconify/vue';\nimport { computed, ref, watch, watchEffect } from 'vue';\nimport type Props from './SBTextInput.props';\nconst props = withDefaults(defineProps<Props>(), {\n  size: 'md',\n  disabled: false,\n  debounce: false,\n  type: 'text',\n  autocomplete: 'off'\n});\n\nconst emit = defineEmits<{\n  (e: 'update:value', value: string): void;\n}>();\n\nconst value = ref('');\n\nconst textInput = ref<HTMLInputElement | null>(null);\nconst focused = ref(false);\n\nconst messageClasses = computed(() => {\n  switch (props.state) {\n    case 'success':\n      return 'text-success-default_strong';\n    case 'error':\n      return 'text-danger-default_strong';\n    default:\n      return 'text-grayscale-header';\n  }\n});\n\nconst inputIconClasses = computed(() => {\n  switch (props.size) {\n    case 'sm':\n      return 'text-[19px]';\n    case 'xl':\n      return 'text-[24px]';\n    default:\n      return 'text-[22px]';\n  }\n});\n\nconst inputContainerClasses = computed(() => {\n  switch (props.size) {\n    case 'sm':\n      return 'text-sm';\n    case 'xl':\n      return 'text-lg gap-2';\n    default:\n      return 'text-base gap-1';\n  }\n});\n\nconst inputLabelClasses = computed(() => {\n  switch (props.state) {\n    case 'success':\n      return 'text-success-default_strong';\n    case 'error':\n      return 'text-danger-default_strong';\n    default:\n      return 'text-grayscale-label';\n  }\n});\n\nconst inputPresentationalSizingClasses = computed(() => {\n  switch (props.size) {\n    case 'sm':\n      return 'rounded-lg min-h-[48px] px-4 gap-3';\n    case 'lg':\n      return 'rounded-xl min-h-[56px] px-8 gap-4';\n    case 'xl':\n      return 'rounded-2xl min-h-[60px] px-8 gap-4';\n    default:\n      return 'rounded-xl min-h-[52px] px-6 gap-3';\n  }\n});\n\nconst inputPresentationalStateClasses = computed(() => {\n  switch (props.state) {\n    case 'success':\n      return '!outline-success outline outline-[2px] !bg-success-bg';\n    case 'error':\n      return '!outline-danger outline outline-[2px] !bg-danger-bg';\n    default:\n      return '';\n  }\n});\n\nconst coloredIconClasses = computed(() => {\n  switch (props.state) {\n    case 'success':\n      return 'text-success-default_strong';\n    case 'error':\n      return 'text-danger-default_strong';\n    default:\n      return 'text-grayscale-label';\n  }\n});\n\nfunction clearInputValue() {\n  value.value = '';\n  textInput.value!.focus();\n}\n\nlet timeOut: NodeJS.Timeout;\nwatch(value, () => {\n  if (!props.debounce) {\n    emit('update:value', value.value);\n    return;\n  }\n  if (timeOut) {\n    clearTimeout(timeOut);\n  }\n  timeOut = setTimeout(() => {\n    emit('update:value', value.value);\n  }, 500);\n});\n\nwatchEffect(() => {\n  value.value = props.preset ? props.preset : '';\n});\n</script>\n"],"names":["value","ref","textInput","focused","messageClasses","computed","props","inputIconClasses","inputContainerClasses","inputLabelClasses","inputPresentationalSizingClasses","inputPresentationalStateClasses","coloredIconClasses","clearInputValue","timeOut","watch","emit","watchEffect"],"mappings":"yqBAuHMA,EAAQC,EAAI,EAAE,EAEdC,EAAYD,EAA6B,IAAI,EAC7CE,EAAUF,EAAI,EAAK,EAEnBG,EAAiBC,EAAS,IAAM,CACpC,OAAQC,EAAM,MAAO,CACnB,IAAK,UACI,MAAA,8BACT,IAAK,QACI,MAAA,6BACT,QACS,MAAA,uBACX,CAAA,CACD,EAEKC,EAAmBF,EAAS,IAAM,CACtC,OAAQC,EAAM,KAAM,CAClB,IAAK,KACI,MAAA,cACT,IAAK,KACI,MAAA,cACT,QACS,MAAA,aACX,CAAA,CACD,EAEKE,EAAwBH,EAAS,IAAM,CAC3C,OAAQC,EAAM,KAAM,CAClB,IAAK,KACI,MAAA,UACT,IAAK,KACI,MAAA,gBACT,QACS,MAAA,iBACX,CAAA,CACD,EAEKG,EAAoBJ,EAAS,IAAM,CACvC,OAAQC,EAAM,MAAO,CACnB,IAAK,UACI,MAAA,8BACT,IAAK,QACI,MAAA,6BACT,QACS,MAAA,sBACX,CAAA,CACD,EAEKI,EAAmCL,EAAS,IAAM,CACtD,OAAQC,EAAM,KAAM,CAClB,IAAK,KACI,MAAA,qCACT,IAAK,KACI,MAAA,qCACT,IAAK,KACI,MAAA,sCACT,QACS,MAAA,oCACX,CAAA,CACD,EAEKK,EAAkCN,EAAS,IAAM,CACrD,OAAQC,EAAM,MAAO,CACnB,IAAK,UACI,MAAA,wDACT,IAAK,QACI,MAAA,sDACT,QACS,MAAA,EACX,CAAA,CACD,EAEKM,EAAqBP,EAAS,IAAM,CACxC,OAAQC,EAAM,MAAO,CACnB,IAAK,UACI,MAAA,8BACT,IAAK,QACI,MAAA,6BACT,QACS,MAAA,sBACX,CAAA,CACD,EAED,SAASO,GAAkB,CACzBb,EAAM,MAAQ,GACdE,EAAU,MAAO,OACnB,CAEI,IAAAY,EACJ,OAAAC,EAAMf,EAAO,IAAM,CACb,GAAA,CAACM,EAAM,SAAU,CACdU,EAAA,eAAgBhB,EAAM,KAAK,EAChC,OAEEc,GACF,aAAaA,CAAO,EAEtBA,EAAU,WAAW,IAAM,CACpBE,EAAA,eAAgBhB,EAAM,KAAK,GAC/B,GAAG,CAAA,CACP,EAEDiB,EAAY,IAAM,CAChBjB,EAAM,MAAQM,EAAM,OAASA,EAAM,OAAS,EAAA,CAC7C"}